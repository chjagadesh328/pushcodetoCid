
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <title>Document</title>
    <style>
      body {
        margin: 20px;
      }
      li {
        list-style-type: none;
      }
    </style>
  </head>
  <body>
    <form onsubmit="saveToLocalStorage(event)">
        <h1> User Registration Form </h1>
        <p id="name"></p>
      <label>Name:</label>
      <br /><input type="text" name="username"  required/> <br /><label
        >Email:</label>
      <br /><input type="email" name="useremail" required />
      <br /><label>Phone Number:</label> <br />
      <input type="number" name="phonenumber"/>
    <br /><br /><button>Submit</button>
     
    </form>
    <ul id='listOfitems'>
      <!-- <li> == $0
        ::marker 
        "jagadesh kumar - jaga@gmail.com - 3888848"
      </li> -->
    </ul>
    <script>
      function saveToLocalStorage(event){
        event.preventDefault();
        const name= event.target.username.value;
        const email = event.target.useremail.value;
        const phoneno = event.target.phonenumber.value;
        //localStorage.setItem(('User Name',name),('Email',email),('Phone',phoneno));

        
        // localStorage.setItem('MyObj',myobj);  // returns [object Object]
        // console.log(localStorage);
        const obj={
        name,
        email,
        phoneno
        }
        //-SERIALIZATION--TO MAKE OBJECT INTO STRING -->> JSON.stringify( KEY , VALUE );
        let obj_serialized=JSON.stringify(obj);
        console.log(obj_serialized);

        localStorage.setItem(obj.email,obj_serialized);  
        showUserOnScreen(obj);
        // console.log(localStorage);
    
    
    }
    function showUserOnScreen(obj){
    const parentElem = document.getElementById('listOfitems')
    const childEle=document.createElement('li');
    childEle.textContent= obj.name +' - '+obj.email+' - ' +obj.phoneno;
    
//=============TASK 13===========
    const deleteButton=document.createElement('input');
    deleteButton.type='button';
    deleteButton.value='Delete!!'
    deleteButton.onclick=() =>{
        localStorage.removeItem(obj.email);
        parentElem.removeChild(childEle);
    }

    childEle.appendChild(deleteButton);
    //=============
    parentElem.appendChild(childEle);
  
    
    // // -----[ OR ]------------
     //parentElem.innerHTML=parentElem.innerHTML +`<li>${obj.name} - ${obj.email} - ${obj.phoneno}  </li>`+'<button> Delete </button>' ;
    
    }
    

    




        // //To make STRING TO OBJECT -->> JSON.PARSE( KEY, VALUE)
        // let myobj_deserialized=JSON.parse(localStorage.getItem('MyObj'));
        // console.log(myobj_deserialized);

        // localStorage.setItem('User Name',uname);
        // localStorage.setItem('Email',email);
        // localStorage.setItem('Phone',phoneno);
        // console.log(localStorage.getItem('User Name'));
        // console.log(localStorage.getItem('Email'));
        // console.log(localStorage.getItem('Phone'));
    
    </script>
 </body>
</html>